{% extends "dashboard/base.html" %}
{% load i18n %}
{% load render_table from django_tables2 %}

{% block title-page %}{% trans "Nodes" %}{% endblock %}

{% block content %}

<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="no-margin"><i class="fa fa-desktop"></i> {% trans "Compute nodes" %}</h3>
      </div>
      <div id="table_container">
        <div id="rendered_table" class="panel-body">
          {% render_table table %}
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <div class="pull-right">
          {% for o in graph_time_options %}
            <a class="btn btn-default btn-xs"
              href="?graph_time={{ o.time }}">
              {{ o.name }}
            </a>
          {% endfor %}
        </div>
        <h3 class="no-margin"><i class="fa fa-area-chart"></i> {% trans "Graphs" %}</h3>
      </div>
      <div class="text-center">
        <img src="{% url "dashboard.views.node-list-graph" "alloc" graph_time %}"/>
        <img src="{% url "dashboard.views.node-list-graph" "vm" graph_time %}"/>
      </div>
    </div>
  </div><!-- -col-md-12 -->
</div><!-- .row -->

{% endblock %}

{% block extra_js %}
  <script src="{{ STATIC_URL}}dashboard/node-list.js"></script>
{% endblock %}
